# ============================================================================
# Disher.io Environment Configuration
# ============================================================================
# Copy this file to .env and modify values according to your deployment
# IMPORTANT: Never commit .env file with real secrets to version control
# ============================================================================

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================

# Full domain or IP where Disher.io will be accessible
# Examples:
#   - Local: http://localhost
#   - IP-based: http://192.168.1.100
#   - Domain with HTTPS: https://disher.example.com
DOMAIN=http://localhost

# CORS origin for the frontend (only needed in development when frontend and backend run on different ports)
# Example: http://localhost:4200
# In production (Docker), leave this unset â€” DOMAIN is used automatically
CORS_ORIGIN=

# Installation mode: 'local', 'production', 'raspberry-pi'
# Determines resource limits, logging level, and deployment optimizations
INSTALL_MODE=local

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# MongoDB connection URI
# Default: Uses Docker container 'database' on internal network
# For external MongoDB: mongodb://<username>:<password>@host:27017/disher
# For MongoDB Atlas: mongodb+srv://<username>:<password>@cluster.mongodb.net/disher
MONGODB_URI=mongodb://database:27017/disher

# ============================================================================
# API SERVER CONFIGURATION
# ============================================================================

# Backend API server port (inside container)
PORT=3000

# Node environment
NODE_ENV=production

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================

# JWT Secret for authentication tokens
# CRITICAL: Generate a strong random string (at least 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_TO_A_STRONG_SECRET_KEY_32_CHARS_MINIMUM

# ============================================================================
# OPTIONAL: LOGGING & MONITORING
# ============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable detailed request logging
DEBUG_REQUESTS=false

# ============================================================================
# OPTIONAL: API RATE LIMITING
# ============================================================================

# Max requests per minute per IP
RATE_LIMIT_REQUESTS=100

# Window in minutes
RATE_LIMIT_WINDOW=1

# ============================================================================
# OPTIONAL: MAIL CONFIGURATION (for future notifications)
# ============================================================================

# SMTP Server
MAIL_SERVER=smtp.example.com

# SMTP Port
MAIL_PORT=587

# SMTP User
MAIL_USER=noreply@example.com

# SMTP Password
MAIL_PASSWORD=

# From email address
MAIL_FROM=noreply@disher.io

# ============================================================================
# OPTIONAL: INTEGRATIONS
# ============================================================================

# Enable/disable external integrations
ENABLE_PAYMENT_GATEWAY=false
ENABLE_ANALYTICS=false

# ============================================================================
# RESOURCE LIMITS (for Raspberry Pi / constrained environments)
# ============================================================================

# MongoDB memory limit (MB)
# Default for RPi: 256
MONGO_CACHE_SIZE_MB=512

# Node.js heap size (MB)
# Default for RPi: 256
NODE_MAX_MEMORY_MB=512

# Maximum concurrent database connections
MONGODB_POOL_SIZE=10
